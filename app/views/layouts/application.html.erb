<!doctype html>
<html lang="pt-br">
  <head>
    <!-- Meta tags Obrigatórias -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="description" content="Pagasó Meios de Pagamentos - Angola">

    <title>Pagasó · Facilita Bué . Angola</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
    
    <%= favicon_link_tag 'favicon.ico', rel: 'icon', type: 'image/png' %>
    <%= favicon_link_tag 'favicon.png', type: 'image/png', sizes: '24x24' %>
    <%= favicon_link_tag 'apple-touch-icon.png', type: 'image/png', sizes: '180x180', rel: 'apple-touch-icon' %>
    <%= favicon_link_tag 'favicon-32x32.png', type: 'image/png', sizes: '32x32', rel: 'icon' %>
    <%= favicon_link_tag 'favicon-16x16.png', type: 'image/png', sizes: '16x16', rel: 'icon' %>
    <%= favicon_link_tag 'site.webmanifest', sizes: '16x16', rel: 'manifest' %>

    <!-- Bootstrap CSS -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    
    <style>
      .bg-warning{
        background-color: #FFCC00!important;
      }

      .menu-nav{
        padding-top: 10px;
        padding-bottom: 10px;
        color: #000;
      }

      .menu-nav a{
        color: #000;
      }

      .modal_loader{
        display: none;
        position: fixed;
        top: 0px;
        width: 100%;
        height: 100vh;
        background: #000;
        opacity: 0.5;
        z-index: 99999;
      }
      .container_loader{
        position: fixed;
        top: calc(50% - 12px);
        left: calc(50% - 12px);
        z-index: 9999999;
      }

      .loader {
        border: 16px solid #f3f3f3; /* Light grey */
        border-top: 16px solid #3498db; /* Blue */
        border-radius: 50%;
        width: 120px;
        height: 120px;
        animation: spin 2s linear infinite;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>

    
    <!-- Estilos customizados para esse template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">

    </head>

    <body>
      <div class="col-sm-12">
        <header>
          <%= render 'shared/navbar' %>
        </header>
        
        <% flash.each do |name, msg| %>
          <% next if ["mensagem_erro_fatura", "login"].include?(name) %>
          <%= content_tag :div, class: "alert alert-#{ name.to_sym == :error ? "danger" : "success" } alert-dismissable", role: "alert" do %>
            <button type="button" class="close" data-dismiss="alert" style="top: auto;right: auto;"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            <%= msg %>
          <% end %>
        <% end %>

        <div id="content">
          <%= yield %>
        </div>

        <footer>
          <%= render 'shared/footer' %>     
        </footer>
        
      </div>

      <div class="modal_loader">
        <div class="container_loader">
          <div class="loader"></div>
        </div>
      </div>

      <!-- Popper.js, depois Bootstrap JS -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" ></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.css">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.2/jquery-confirm.min.js"></script>
      <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script> 
      <!-- jQuery Modal -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.css" />


      <% if flash["login"].present?
        modal_informativo = ModalInformativo.ativo 
        if modal_informativo.present? %>
          <div id="informativoModal" class="modal">
            <h3><%= modal_informativo.titulo %></h3>
            <hr>
            <p><%= modal_informativo.mensagem %></p>
            <a href="#" class="btn btn-danger" rel="modal:close">Fechar</a>
          </div>

          <script>
            $("#informativoModal").modal({
              escapeClose: false,
              clickClose: false,
              showClose: false
            });
          </script>
        <% end 
      end %>
    </body>
</html>
