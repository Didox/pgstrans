<div class="col-md-12">
	<div class="col-md-12">
    <h3>Lista Pagamento por Referência</h3>
  </div>
  <br>
  <!-- Page Heading/Breadcrumbs -->
  <%= render :partial => 'shared/header_backoffice' %>
  <!-- /.row -->
  <br>
  <div>
    <form action="" method="get" id="formApuracao">
      <div class="row" style="padding:10px">
        <div class="col-sm-2">
          <div class="form-group">
            <label>Login do Usuário</label>
            <div>
              <input type="text" name="login" value="<%= params[:login] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-4">
          <div class="form-group">
            <label>Nome do Usuário</label>
            <div>
              <input type="text" name="nome" value="<%= params[:nome] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>Referência de Pagamento</label>
            <div>
              <input type="text" name="nro_pagamento_referencia" value="<%= params[:nro_pagamento_referencia] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>ID no Parceiro</label>
            <div>
              <input type="text" name="id_parceiro" value="<%= params[:id_parceiro] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>ID da Transação no Parceiro</label>
            <div>
              <input type="text" name="transaction_id_parceiro" value="<%= params[:transaction_id_parceiro] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>Valor do Pagamento</label>
            <div>
              <input type="text" name="valor" value="<%= params[:valor] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>Data de Pagamento</label>
            <div>
              <input type="date" name="data_pagamento" value="<%= params[:data_pagamento] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>Data de Conciliação</label>
            <div>
              <input type="date" name="data_conciliacao" value="<%= params[:data_conciliacao] %>" class="form-control">
            </div>
          </div>
        </div>
        <div class="col-sm-3">
          <div class="form-group">
            <label>Tipo de Terminal</label>
            <div>
              <input type="text" name="terminal_type_parceiro" value="<%= params[:terminal_type_parceiro] %>" class="form-control">
            </div>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div style="float: right;margin-right:10px">
          <input type="submit" value="Buscar" class="btn btn-info">
          <%= link_to backoffice_index_path, class: 'btn btn-primary' do %>
            <span class="glyphicon glyphicon-list-alt"></span>
            Voltar
          <% end %>
        </div>
      </div>
    </form>
  </div>
  <div class="col-md-12">
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col" style="width: 10%">Login do Usuário</th>
          <th scope="col" style="width: 30%">Nome do Usuário</th>
          <th scope="col" style="width: 10%">Número da Referência de Pagamento</th>
          <th scope="col" style="width: 10%">ID da Transação no Parceiro</th>
          <th scope="col" style="width: 10%">ID no Parceiro</th>
          <th scope="col" style="width: 10%">Valor do Pagamento</th>
          <th scope="col" style="width: 10%">Data do Pagamento</th>
          <th scope="col" style="width: 10%">Data da Conciliação</th>
          <th scope="col" style="width: 10%">Terminal ID Parceiro</th>
          <th scope="col" style="width: 10%">Terminal Location Parceiro</th>
          <th scope="col" style="width: 10%">Terminal Type Parceiro</th>
          <th scope="col" style="width: 10%">Terminal Transaction ID Parceiro</th>
          <th scope="col" style="width: 10%">Product ID Parceiro</th>
          <th scope="col" style="width: 10%">Period Start Parceiro</th>
          <th scope="col" style="width: 10%">Period ID Parceiro</th>
          <th scope="col" style="width: 10%">Period End Parceiro</th>
          <th scope="col" style="width: 10%">Parameter ID Parceiro</th>
          <th scope="col" style="width: 10%">FEE Parceiro</th>
          <th scope="col" style="width: 10%">Entity ID Parceiro</th>
          <th scope="col" style="width: 10%">Custom Fields Parceiro</th>
          <th scope="col" style="width: 10%">X_signature</th>
          <th scope="col" style="width: 10%">Situação</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @pagamento_referencias.each do |pagamento_referencia| %>
        <tr>
          <td><%= pagamento_referencia.usuario.login %></td>
          <td><%= pagamento_referencia.usuario.nome %></td>
          <td><%= pagamento_referencia.nro_pagamento_referencia %></td>
          <td><%= pagamento_referencia.transaction_id_parceiro %></td> 
          <td><%= pagamento_referencia.id_parceiro %></td>
          <td><%= pagamento_referencia.valor %></td>
          <td><%= pagamento_referencia.data_pagamento %></td>
          <td><%= pagamento_referencia.data_conciliacao %></td>
          <td><%= pagamento_referencia.terminal_id_parceiro %></td>
          <td><%= pagamento_referencia.terminal_location_parceiro %></td>
          <td><%= pagamento_referencia.terminal_type_parceiro %></td> 
          <td><%= pagamento_referencia.terminal_transaction_id_parceiro %></td> 
          <td><%= pagamento_referencia.product_id_parceiro %></td> 
          <td><%= pagamento_referencia.period_start_datetime_parceiro %></td> 
          <td><%= pagamento_referencia.period_id_parceiro %></td> 
          <td><%= pagamento_referencia.period_end_datetime_parceiro %></td> 
          <td><%= pagamento_referencia.parameter_id_parceiro %></td> 
          <td><%= pagamento_referencia.fee_parceiro %></td> 
          <td><%= pagamento_referencia.entity_id_parceiro %></td> 
          <td><%= pagamento_referencia.custom_fields_parceiro %></td> 
          <td><%= pagamento_referencia.status ? "Processado" : "Pendente" %></td> 
          <td><%= pagamento_referencia.x_signature %></td> 
          <td><%= link_to 'Mostrar', "/pagamento_referencias/#{pagamento_referencia.id}" %></td>
          <td><%= link_to 'Editar', edit_pagamento_referencia_path(pagamento_referencia) %></td>
          <td><%= link_to 'Apagar', "/pagamento_referencias/#{pagamento_referencia.id}", method: :delete, data: { confirm: 'Tem certeza?' } %></td>
        </tr>
        <% end %>
      </tbody>
    </table>

    <div class="apple_pagination">
      <%= will_paginate @pagamento_referencias, :container => false %>
    </div> 

    <%= link_to backoffice_index_path, class: 'btn btn-primary' do %>
      <span class="glyphicon glyphicon-list-alt"></span>
      Voltar
    <% end %>

    <%= link_to 'Voltar', root_path, class: 'btn btn-primary' %>

  </div>
</div>