<div class="card">
  <div class="card-header">
    <div class="col-md-6">
      Escolha um Parceiro/Fornecedor
    </div>
    <div class="col-md-6" style="text-align: right;font-weight: bold;">
      Saldo Disponível: <%= number_to_currency(usuario_logado.saldo, :unit => "KZ") %>
    </div>
  </div>
  <div class="card-body recarga">
    <div class="col-md-12 row justify-content-center">
      <% Partner.all.each_with_index do |partner, index| 
        @partner_default = partner if index == 0 %>
        <% if partner.status_parceiro_id == 1 %>
          <!--<%= partner.slug %>-->
          <div class="col-md-3" style="text-align: center;">
            <a href="javascript:;" onclick="pgstrans.displayRecarga('<%= partner.slug %>')">
              <%= image_tag("partner/#{partner.slug}_160x160c.png", alt: partner.slug, class: "img-responsive", style: "display: inline-block;") rescue "" %>
            </a>
            <span class="seta-cima" id="seta<%= partner.slug %>" style="display: none"></span>
          </div>
        <% else %>
          <!--<%= partner.slug %>-->
          <div class="col-md-3" style="text-align: center;">
            <%= image_tag("partner/#{partner.slug}_160x160c.png", alt: partner.slug, class: "img-responsive", style: "display: inline-block;") rescue "" %>
          </div>
        <% end %>
      <% end %>
    </div>
    <form action="<%= recarga_confirma_path %>" id="recargaForm" method="post">
      <div class="col-md-12" id="recarga" style="display: none;padding: 20px;box-shadow: 0px 0px 10px 5px #AAAAAA;border-radius: 10px;">
        <div style="background-color: #F2F3F4;padding: 10px;color: #000;">
          <h1>Recargas</h1>
        </div>
        <div id="dialogRecharge" title="Recarga">
          <input type="hidden" id="tipo_ativo">
          <div class="overlayLoading" id="recargas_RightMenuListItemOverlay"></div>
            <div class="dialogDiv" style="padding: 0px;margin-top: 15px;">
              <% Partner.where(status_parceiro_id: 1).each do |partner| %>
                <div class="campos <%= partner.slug %>">
                  <div class="editArea editAreaDiv" style="margin-bottom: 10px;">
                    <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                        Recarga<span class="required">&nbsp;*</span>
                    </div>
                    <div>
                      <select class="rechargeType form-control validate v<%= partner.slug %>" name="<%= partner.slug.downcase %>_produto_id" data-message="Selecione um produto">
                        <option value="" >Escolher</option>
                        <% Produto.where(partner_id: Partner.where(slug: partner.slug)).each do |produto| %>
                          <option value="<%= produto.produto_id_parceiro %>-<%= produto.valor_minimo_venda_site %>"><%= produto.description %></option>
                        <% end %>
                      </select>
                    </div>
                  </div>
                </div>
              <% end %>
              <div class="campos Unitel Movicel DSTv ZAPTv">
                <div class="editArea editAreaDiv" style="margin-bottom: 10px;">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Valor
                  </div>
                  <div class="number">
                    <input type="text" id="rechargeValue" class="form-control" name="valor" readonly="" placeholder="Valor...">
                  </div>
                </div>
              </div>
              <div class="campos Movicel " id="divAditionalFieldsMovicel">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Telefone<span class="required">&nbsp;*</span>
                  </div>
                  <div>
                    <input type="text" name="movecel_telefone" class="form-control vMovicel validate" data-message="Informe o número" value="" placeholder="Telefone..." maxlength="9" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
              <div class="campos DSTv" id="divAditionalFieldsDSTV">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                     Nº SmartCard <span class="required">&nbsp;*</span>
                  </div>
                  <div>
                    <input type="text" id="dstvNr"  name="dstv_smart_card" class="form-control vDSTv validate" data-message="Informe o número" value="" placeholder="Nº SmartCard..." maxlength="11" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
              <div class="campos ZAPTv" id="divAditionalFieldsZAP">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Nº do cartão Zap <span class="required">&nbsp;*</span>
                  </div>
                  <div>
                    <input type="text" id="zapNr" name="zaptv_cartao" class="form-control vZAPTv validate" data-message="Informe o número" value="" placeholder="Nº do cartão Zap..." maxlength="12" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
              <div class="campos" id="divAditionalFieldsTELO">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Nº Telo <span class="required">&nbsp;*</span>
                  </div>
                  <div>
                    <input type="text" id="teloNr" name="nr_telo" class="form-control validate" data-message="Informe o número" value="" placeholder="Nº Telo..." maxlength="9" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
              <div class="campos Unitel" id="divAditionalFieldsUnitel">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Telefone <span class="required">*</span>
                  </div>
                  <div>
                    <input type="text" id="unitelNr" name="unitel_telefone" class="form-control vUnitel validate" data-message="Informe o número" value="" placeholder="Telefone..." maxlength="9" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
              <div class="campos talaoUnitel talaoMovicel talaoDSTv talaoZAPTv" id="divAditionalFieldsSMS" style="display: none;margin-top: 10px">
                <div class="editArea editAreaDiv">
                  <div class="p16Bold editDiv" style="text-align: left; width: 20% !important;">
                    Talão p/SMS <span class="required">&nbsp;*</span>
                  </div>
                  <div>
                    <input type="text" id="SMSNr" name="talao_sms" class="form-control talaoUnitel talaoMovicel talaoDSTv talaoZAPTv vUnitel vMovicel vDSTv vZAPTv validate" data-message="Informe o número" value="" placeholder="Talão p/SMS..." maxlength="9" onkeypress="return event.charCode >= 48 &amp;&amp; event.charCode <= 57">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="saveCancelbts" style="padding-top: 25px">
            <div style="float: right;">
              <input type="submit" class="btn btn-success" id="btSave" style="width: 210px; text-align: center;" value="SUBMETER PAGAMENTO">
            </div>
          </div>
        </div>
      </form>
      <% if @partner_default.present? %>
        <script type="text/javascript">
          pgstrans.displayRecarga('<%= @partner_default.slug %>')
        </script>
      <% end %>
    </div>
  </div>
</div>
<!--Backoffice -->
<% if usuario_logado.perfil_usuario.admin %>
 <%= render 'layouts/backoffice' %>
<% end %>
<!--Backoffice -->